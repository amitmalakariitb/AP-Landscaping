<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A & P Landscaping</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <div class="navbar">
        <div class="brand">
            <h1>A & P Landscaping</h1>
            <p>Call or text @5714360668</p>
        </div>
    </div>

    <div class="services">
        <div class="services-text">
            <h2>Need landscaping services?</h2>
            <div class="button-container">
                <button onclick="scrollToContactForm()">Contact Us</button>
            </div>
        </div>
        <div class="services-image">
            <img src="./assets/landscaping_image.png" alt="Landscaping Services">
        </div>
    </div>

    <div class="gallery">
        <div class="gallery-item">
            <img src="./assets/1.1.1.png" alt="Image 1">
        </div>
        <div class="gallery-item">
            <img src="./assets/1.1.2.png" alt="Image 2">
        </div>
        <div class="gallery-item">
            <img src="./assets/1.1.3.png" alt="Image 3">
        </div>
        <div class="gallery-item">
            <img src="./assets/1.1.4.png" alt="Image 4">
        </div>
    </div>

    <div id="contact" class="contact-form">
        <div class="form-header">
            <div class="header-content">
                <img src="./assets/1.1.5.svg" alt="Header Image">
                <h2 class="underline">Have more questions?</h2>
            </div>
        </div>
        <form id="contactForm" onsubmit="sendContactInfo(event); return false;">
            <div class="form-fields">
                <div class="left-field">
                    <p>Name</p>
                    <input type="text" id="name" placeholder="Please enter your name" required>
                    <p>Email</p>
                    <input type="email" id="email" placeholder="Please enter your email" required>
                    <p>Phone Number</p>
                    <input type="tel" id="phone" placeholder="Please enter your phone no." required>
                </div>
                <div class="right-field">
                    <p>Message</p>
                    <textarea id="message" placeholder="Type your message" required></textarea>
                    <button type="submit">Send</button>
                </div>
            </div>
        </form>
    </div>

    <script type="text/javascript">
        function sendContactInfo(event) {
            event.preventDefault(); // Prevent form submission

            var name = document.getElementById('name').value;
            var email = document.getElementById('email').value;
            var phone = document.getElementById('phone').value;
            var message = document.getElementById('message').value;

            var userContact = `Name: ${name}, Email: ${email}, Phone: ${phone}, Message: ${message}`;

            fetch('http://www-aplandscaping.onrender.com/send-email', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ userContact: userContact }),
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(responseText => {
                    alert(responseText);
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error sending contact info. Please try again.');
                });
        }

        function scrollToContactForm() {
            var contactForm = document.getElementById('contact');
            contactForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
    </script>
    <div class="footer">
        <div class="element">
            <h1>A & P Landscaping</h1>
            <p>Call or text @5714360668</p>
        </div>
    </div>
</body>

</html>